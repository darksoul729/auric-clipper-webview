:root{
  /* ===== Theme (match REF: matte magenta + black brushed metal) ===== */
  --panel-bg:#06060a;
  --panel-hi:#13141a;

  --accent:#b53a73;          /* matte magenta (less neon) */
  --accent-strong:#ff2ca3;   /* only for glow core */
  --accent-soft:#ff6ac8;

  --text-engrave:rgba(225,225,225,.30);
  --text-engrave-weak:rgba(210,210,210,.20);

  --glow-inner:rgba(196,62,126,.92);
  --glow-outer:rgba(196,62,126,.22);

  /* ===== layout sizes ===== */
  --kSmall: clamp(56px, 8vw, 78px);
  --kRing: calc(var(--kSmall) + 28px);
  --kDrive: clamp(155px, 26vw, 215px);
}

*{margin:0;padding:0;box-sizing:border-box;user-select:none;}
html,body{width:100%;height:100%;overflow:hidden;background:#000;}

body{
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Barlow','Segoe UI',Arial,sans-serif;
  background:
    radial-gradient(1200px 680px at 50% 105%, rgba(196,62,126,.14) 0%, rgba(196,62,126,0) 72%),
    radial-gradient(900px 520px at 50% 44%, rgba(255,255,255,.04) 0%, rgba(0,0,0,0) 62%),
    radial-gradient(1800px 1200px at 50% 50%, rgba(0,0,0,0) 0%, rgba(0,0,0,.86) 72%, rgba(0,0,0,.96) 100%),
    #040405;
}

/* =======================
   PANEL (REF: horizontal brushed + strong frame)
   ======================= */
.panel{
  aspect-ratio: 1280 / 853;
  width: min(96vw, calc(96vh * 1280 / 853));
  position: relative;
  overflow: hidden;
  border-radius: 10px;

  /* base metal */
  background:
    linear-gradient(180deg, #15161a 0%, #0a0b0f 50%, #07070a 100%),
    var(--panel-bg);

  border: 1px solid rgba(255,255,255,.035);
  box-shadow:
    0 36px 90px rgba(0,0,0,.86),
    0 16px 32px rgba(0,0,0,.62),
    inset 0 10px 22px rgba(0,0,0,.55),
    inset 0 -18px 34px rgba(0,0,0,.70),
    inset 0 0 0 1px rgba(255,255,255,.02);
}

/* horizontal brushed + top highlight */
.panel::before{
  content:'';
  position:absolute;
  inset:0;
  pointer-events:none;

  background:
    /* brushed lines (HORIZONTAL) */
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,.022) 0px,
      rgba(255,255,255,.008) 1px,
      rgba(0,0,0,.020) 3px,
      rgba(0,0,0,0) 6px
    ),
    /* top lip highlight */
    radial-gradient(120% 90% at 50% 0%, rgba(255,255,255,.10) 0%, rgba(255,255,255,0) 55%),
    /* gentle center falloff */
    radial-gradient(140% 120% at 50% 55%, rgba(255,255,255,.020) 0%, rgba(0,0,0,0) 56%);

  mix-blend-mode: overlay;
  opacity:.85;
}

/* inner frame + vignette (REF: strong edges) */
.panel::after{
  content:'';
  position:absolute;
  inset:10px;
  border-radius:9px;
  pointer-events:none;

  background:
    /* edge vignette */
    radial-gradient(130% 120% at 50% 50%,
      rgba(0,0,0,0) 52%,
      rgba(0,0,0,.62) 82%,
      rgba(0,0,0,.86) 100%),
    /* subtle vertical shading */
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.18));

  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.05),
    inset 0 0 0 2px rgba(0,0,0,.82),
    inset 0 24px 46px rgba(0,0,0,.42),
    inset 0 -22px 40px rgba(0,0,0,.54);
  opacity:.98;
}

/* grain (keep subtle) */
.grain{
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.08;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.75' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
  background-size:220px 220px;
}

/* =======================
   Screws (more REF-like)
   ======================= */
.screw{
  position:absolute;
  width:22px; height:22px;
  border-radius:50%;
  background:
    radial-gradient(circle at 38% 35%, #3a3a3e 0%, #17171a 62%, #040405 100%);
  border: 1px solid rgba(0,0,0,.90);
  box-shadow:
    0 8px 16px rgba(0,0,0,.86),
    inset 0 1px 2px rgba(255,255,255,.10),
    inset 0 -4px 6px rgba(0,0,0,.92);
  z-index:10;
}
.screw::before{
  content:'';
  position:absolute;
  inset:4px;
  border-radius:50%;
  background:
    linear-gradient(90deg, transparent 44%, rgba(0,0,0,.72) 44% 56%, transparent 56%),
    linear-gradient(0deg, transparent 44%, rgba(0,0,0,.72) 44% 56%, transparent 56%),
    radial-gradient(circle at 40% 40%, rgba(255,255,255,.12), rgba(0,0,0,0) 60%);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,.08),
    inset 0 -2px 3px rgba(0,0,0,.82);
}
.top-left{ top:14px; left:14px; }
.top-right{ top:14px; right:14px; }
.bottom-left{ bottom:14px; left:14px; }
.bottom-right{ bottom:14px; right:14px; }

/* =======================
   Headers (matte magenta - EXACT MATCH)
   ======================= */
.header{
  position:absolute;
  top: 7%;
  font-size: clamp(30px, 5vw, 46px);
  font-weight:800;
  color: #b53a73; /* DIRECT HEX MATCH TO REFERENCE */
  letter-spacing: 1.1px;
  text-shadow:
    0 3px 10px rgba(0,0,0,.92),
    0 0 16px rgba(196,62,126,.14);
  z-index:5;
  text-transform: uppercase; /* ALL CAPS LIKE REFERENCE */
  font-family: 'Barlow', 'Segoe UI', Arial, sans-serif; /* Explicit font declaration */
}
#auric{ left: 9.5%; }
#zclip{ right: 9.5%; }

/* =======================
   Knob groups & labels (engraved - EXACT MATCH)
   ======================= */
.knob-group{
  position:absolute;
  display:flex;
  flex-direction:column;
  align-items:center;
  transform: translate(-50%, -50%);
  z-index:5;
}

.knob-label{
  color: var(--text-engrave);
  font-size: clamp(11px, 1.35vw, 15px);
  letter-spacing: 2.8px;
  margin-bottom: 12px;
  text-shadow:
    0 1px 0 rgba(0,0,0,.92),      /* engraved shadow */
    0 -1px 0 rgba(255,255,255,.08);
  opacity:.92;
  text-transform: uppercase; /* ALL CAPS LIKE REFERENCE */
  font-family: 'Barlow', 'Segoe UI', Arial, sans-serif; /* Explicit font declaration */
}

.knob-stack{
  position:relative;
  width: var(--kRing);
  height: var(--kRing);
  display:flex;
  align-items:center;
  justify-content:center;
  filter: drop-shadow(0 16px 18px rgba(0,0,0,.68));
}

/* =======================
   Tick ring (subtle hardware - LESS BUSY)
   ======================= */
.tick-ring{
  position:absolute;
  inset:0;
  border-radius:50%;
  background:
    /* 12 subtle ticks (like reference image) */
    repeating-conic-gradient(
      from -140deg,
      rgba(255,255,255,.36) 0deg 1.5deg,
      rgba(255,255,255,0) 1.5deg 30deg
    ),
    /* rim shading */
    radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 62%, rgba(0,0,0,.62) 72%, rgba(0,0,0,0) 78%);
  -webkit-mask: radial-gradient(circle, transparent 0 58%, #000 63% 100%);
  mask: radial-gradient(circle, transparent 0 58%, #000 63% 100%);
  opacity:.72;
  box-shadow:
    0 2px 6px rgba(0,0,0,.44),
    inset 0 1px 0 rgba(255,255,255,.06),
    inset 0 -1px 0 rgba(0,0,0,.72);
}
.tick-ring::after{
  content:'';
  position:absolute;
  inset:0;
  border-radius:50%;
  background:
    radial-gradient(circle at 32% 26%, rgba(255,255,255,.10), rgba(255,255,255,0) 52%),
    radial-gradient(circle at 50% 50%, rgba(0,0,0,.62) 66%, rgba(0,0,0,0) 76%);
  -webkit-mask: radial-gradient(circle, transparent 0 58%, #000 63% 100%);
  mask: radial-gradient(circle, transparent 0 58%, #000 63% 100%);
  opacity:.45;
}

/* =======================
   Small knob (EXACT MATCH TO REFERENCE 2)
   ======================= */
.small-knob{
  --rot:0deg;
  width: var(--kSmall);
  height: var(--kSmall);
  border-radius:50%;
  position:relative;
  cursor:pointer;

  /* bevel stack */
  background:
    /* specular */
    radial-gradient(130% 105% at 30% 18%, rgba(255,255,255,.28) 0%, rgba(255,255,255,0) 34%),
    /* outer rim */
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.06) 0 56%, rgba(0,0,0,0) 60%),
    /* deep bowl */
    radial-gradient(circle at 50% 58%, rgba(0,0,0,0) 0 34%, rgba(0,0,0,.55) 62%, rgba(0,0,0,.92) 100%),
    /* radial brushed */
    repeating-conic-gradient(from 0deg, rgba(255,255,255,.032) 0deg 0.9deg, rgba(0,0,0,0) 0.9deg 3deg),
    radial-gradient(circle at 50% 50%, #222226 0%, #121214 62%, #050506 100%);

  border: 1px solid rgba(0,0,0,.94);
  box-shadow:
    0 14px 22px rgba(0,0,0,.72),
    0 2px 6px rgba(0,0,0,.76),
    inset 0 1px 2px rgba(255,255,255,.10),
    inset 0 18px 24px rgba(0,0,0,.54),
    inset 0 -18px 26px rgba(0,0,0,.86),
    inset 0 0 0 1px rgba(0,0,0,.78),
    inset 0 0 0 8px rgba(0,0,0,.20),
    inset 0 0 0 11px rgba(255,255,255,.03);

  outline: 1px solid rgba(255,255,255,.04);
  outline-offset: -2px;

  transform: rotate(var(--rot));
  transition: transform 80ms linear; /* smooth feel */
  touch-action: none;
}

/* indicator (thick, like reference image) */
.small-knob::before{
  content:'';
  position:absolute;
  left:50%;
  top:8px;
  width:2px;
  height:14px;
  transform: translateX(-50%);
  border-radius:2px;
  background: linear-gradient(180deg, rgba(255,255,255,.66), rgba(255,255,255,.10));
  box-shadow:
    0 1px 2px rgba(0,0,0,.74),
    inset 0 -1px 1px rgba(0,0,0,.45);
  pointer-events:none;
}

/* subtle knurl ring (LESS BUSY) */
.small-knob::after{
  content:'';
  position:absolute;
  inset:-18%;
  border-radius:50%;
  background:
    repeating-conic-gradient(
      from -100deg,
      rgba(255,255,255,.12) 0deg 0.9deg,
      rgba(255,255,255,0) 0.9deg 12deg
    );
  -webkit-mask: radial-gradient(circle, transparent 0 60%, #000 64% 72%, transparent 74% 100%);
  mask: radial-gradient(circle, transparent 0 60%, #000 64% 72%, transparent 74% 100%);
  opacity:.22;
  pointer-events:none;
  transform: rotate(calc(-1 * var(--rot)));
}

/* layout positions */
#pre-group     { left: 17.2%; top: 32.5%; }
#trim-group    { left: 17.2%; top: 60.8%; }
#satclip-group { left: 82.8%; top: 32.5%; }
#mix-group     { left: 82.8%; top: 60.8%; }

/* =======================
   DRIVE
   ======================= */
.drive-container{
  position:absolute;
  top: 41%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index:5;
  filter: drop-shadow(0 26px 32px rgba(0,0,0,.78)) drop-shadow(0 10px 14px rgba(0,0,0,.50));
}

/* subtle magenta spill behind drive */
.drive-container::before{
  content:'';
  position:absolute;
  left:50%; top:50%;
  transform: translate(-50%,-50%);
  width: calc(var(--kDrive) * 1.70);
  height: calc(var(--kDrive) * 1.40);
  border-radius: 999px;
  background:
    radial-gradient(circle at 50% 50%, rgba(196,62,126,.16) 0%, rgba(196,62,126,.08) 34%, rgba(196,62,126,0) 70%);
  opacity:.75;
  pointer-events:none;
  z-index:-1;

  transition: opacity 520ms cubic-bezier(.22,.9,.18,1);
}

/* outer housing */
.drive-outer{
  width: var(--kDrive);
  height: var(--kDrive);
  border-radius:50%;
  position:relative;

  background:
    /* top specular */
    radial-gradient(120% 90% at 34% 18%, rgba(255,255,255,.12) 0%, rgba(255,255,255,0) 42%),
    /* deep outer bowl */
    radial-gradient(circle at 50% 58%, rgba(0,0,0,0) 0 46%, rgba(0,0,0,.62) 70%, rgba(0,0,0,.96) 100%),
    /* brushed */
    repeating-conic-gradient(from 0deg, rgba(255,255,255,.020) 0deg 1.0deg, rgba(0,0,0,0) 1.0deg 3.8deg),
    radial-gradient(circle at 50% 50%, #232326 0%, #131315 62%, #050506 100%);

  border: 1px solid rgba(0,0,0,.92);
  box-shadow:
    0 26px 38px rgba(0,0,0,.88),
    0 9px 14px rgba(0,0,0,.56),
    inset 0 2px 2px rgba(255,255,255,.06),
    inset 0 -28px 44px rgba(0,0,0,.90),
    inset 0 0 0 1px rgba(255,255,255,.03);
}

/* thick bevel rim */
.drive-outer::before{
  content:'';
  position:absolute;
  inset:-14px;
  border-radius:50%;
  background:
    radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 48%, rgba(0,0,0,.88) 62%, rgba(0,0,0,1) 76%),
    conic-gradient(from 315deg,
      rgba(255,255,255,.12) 0deg 40deg,
      rgba(255,255,255,0) 40deg 220deg,
      rgba(0,0,0,.50) 220deg 305deg,
      rgba(255,255,255,0) 305deg 360deg
    );
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,.05),
    inset 0 -14px 22px rgba(0,0,0,.78);
  z-index:-1;
}

/* embedded ring track + neon */
.drive-ring{
  position:absolute;
  inset:6px;
  border-radius:50%;

  background:
    /* metal track base */
    radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 54%, rgba(8,8,9,.95) 58%, rgba(0,0,0,0) 62%),
    /* neon ring (narrow, embedded) */
    radial-gradient(circle at 50% 50%,
      rgba(0,0,0,0) 56%,
      rgba(255,210,235,.95) 57.2%,
      rgba(255,120,205,.96) 59.0%,
      rgba(196,62,126,.98) 61.2%,
      rgba(70,10,38,.96) 63.2%,
      rgba(0,0,0,0) 65.0%
    ),
    /* highlight arc on ring */
    conic-gradient(from 300deg,
      rgba(255,255,255,.42) 0deg 18deg,
      rgba(255,255,255,.18) 18deg 38deg,
      rgba(255,255,255,0) 38deg 360deg
    ),
    /* inner shadow */
    radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 62%, rgba(0,0,0,.46) 72%, rgba(0,0,0,.78) 100%);

  border: 2px solid rgba(40,6,22,.92);

  box-shadow:
    /* embedded glow */
    0 0 10px rgba(196,62,126,.78),
    0 0 26px rgba(196,62,126,.30),
    0 0 54px rgba(196,62,126,.16),
    inset 0 0 10px rgba(255,210,235,.28),
    inset 0 0 0 1px rgba(0,0,0,.78);

  transition:
    opacity 520ms cubic-bezier(.22,.9,.18,1),
    box-shadow 520ms cubic-bezier(.22,.9,.18,1),
    filter 520ms cubic-bezier(.22,.9,.18,1);
}

/* subtle bloom + inner arc */
.drive-ring::before{
  content:'';
  position:absolute;
  inset:-6px;
  border-radius:50%;
  background:
    radial-gradient(circle at 50% 50%, rgba(196,62,126,.12) 0%, rgba(196,62,126,0) 62%),
    conic-gradient(from 320deg,
      rgba(255,255,255,.14) 0deg 34deg,
      rgba(255,255,255,0) 34deg 360deg
    );
  -webkit-mask: radial-gradient(circle, transparent 0 62%, #000 66% 78%, transparent 80% 100%);
  mask: radial-gradient(circle, transparent 0 62%, #000 66% 78%, transparent 80% 100%);
  opacity:.55;
  filter: blur(.35px);
  pointer-events:none;

  transition: opacity 520ms cubic-bezier(.22,.9,.18,1);
}

/* inner ring shading */
.drive-ring::after{
  content:'';
  position:absolute;
  inset:14px;
  border-radius:50%;
  background:
    radial-gradient(circle at 32% 24%, rgba(255,255,255,.08), rgba(255,255,255,0) 58%),
    radial-gradient(circle at 50% 55%, rgba(0,0,0,.66) 56%, rgba(0,0,0,0) 74%);
  opacity:.70;
  pointer-events:none;

  transition: opacity 520ms cubic-bezier(.22,.9,.18,1);
}

/* drive knob cap (radial brushed + specular) */
.drive-knob{
  --rot:0deg;
  position:absolute;
  inset: 18px;
  border-radius:50%;
  cursor:pointer;
  overflow:hidden;

  background:
    radial-gradient(130% 100% at 32% 18%, rgba(255,255,255,.16) 0%, rgba(255,255,255,0) 38%),
    radial-gradient(circle at 50% 54%, rgba(255,255,255,.04) 0%, rgba(255,255,255,0) 44%, rgba(0,0,0,.46) 68%, rgba(0,0,0,.86) 100%),
    repeating-conic-gradient(from 0deg, rgba(255,255,255,.020) 0deg 0.9deg, rgba(0,0,0,0) 0.9deg 3.2deg),
    radial-gradient(circle at 50% 50%, #1a1a1c 0%, #0f0f11 64%, #040405 100%);

  border: 1px solid rgba(0,0,0,.86);
  box-shadow:
    inset 0 2px 2px rgba(255,255,255,.05),
    inset 0 18px 26px rgba(0,0,0,.56),
    inset 0 -26px 36px rgba(0,0,0,.90),
    inset 0 0 0 1px rgba(255,255,255,.02);

  transform: rotate(var(--rot));
  transition: transform 80ms linear;
  touch-action: none;
}

/* subtle texture */
.drive-knob::before{
  content:'';
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 1px, rgba(0,0,0,0) 1px 4px);
  opacity:.10;
  mix-blend-mode: overlay;
  pointer-events:none;
}

/* indicator */
.drive-knob::after{
  content:'';
  position:absolute;
  top:12px;
  left:50%;
  transform: translateX(-50%);
  width:3px;
  height:18px;
  border-radius:3px;
  background: linear-gradient(180deg, rgba(255,255,255,.66), rgba(255,255,255,.12));
  box-shadow:
    0 1px 2px rgba(0,0,0,.70),
    inset 0 -1px 1px rgba(0,0,0,.55);
  pointer-events:none;
}

#drive-label{
  position:absolute;
  top: calc(100% + 16px);
  left: 50%;
  transform: translateX(-50%);
  font-size: clamp(22px, 4vw, 34px);
  font-weight:800;
  letter-spacing: 6px;
  color: #b53a73; /* DIRECT HEX MATCH TO REFERENCE */
  text-shadow:
    0 2px 10px rgba(0,0,0,.92),
    0 0 16px rgba(196,62,126,.14);
  text-transform: uppercase; /* ALL CAPS LIKE REFERENCE */
  font-family: 'Barlow', 'Segoe UI', Arial, sans-serif; /* Explicit font declaration */
}

/* =======================
   LED area + 2X button (EXACT MATCH)
   ======================= */
.led-container{
  position:absolute;
  left: 18%;
  top: 83%;
  transform: translate(-50%, -50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  z-index:9999;
}

/* 2X push button (no glow) */
.mini2x{
  position:absolute;
  left: 24%;
  top: 36px;
  transform: translate(-50%, -50%);
  width: 20px;
  height: 20px;
  border-radius: 50%;

  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.10) 0%, rgba(255,255,255,0) 34%),
    radial-gradient(circle at 50% 55%, rgba(0,0,0,0) 0 40%, rgba(0,0,0,.62) 72%, rgba(0,0,0,.92) 100%),
    radial-gradient(circle at 50% 50%, #1b1b1e 0%, #0d0d10 66%, #040405 100%);

  border: 1px solid rgba(0,0,0,.94);
  box-shadow:
    0 8px 14px rgba(0,0,0,.78),
    inset 0 1px 1px rgba(255,255,255,.08),
    inset 0 -4px 6px rgba(0,0,0,.90),
    inset 0 0 0 1px rgba(255,255,255,.03);

  opacity:.96;
  cursor:pointer;
  transition: transform .08s ease, box-shadow .12s ease, filter .22s ease;
  z-index:7;
}
.mini2x:active{ transform: translate(-50%, -50%) translateY(1px); }
.mini2x.isActive{ filter: brightness(1.06) contrast(1.02); }

.mini2x-label{
  position:absolute;
  left: 24%;
  top: 64px;
  transform: translate(-50%, -50%);
  color: rgba(210,210,210,.22);
  font-size: clamp(10px, 1.3vw, 14px);
  letter-spacing: 2px;
  text-shadow:
    0 1px 0 rgba(0,0,0,.92),
    0 -1px 0 rgba(255,255,255,.06);
  cursor:pointer;
  z-index:7;
  text-transform: uppercase; /* ALL CAPS LIKE REFERENCE */
  font-family: 'Barlow', 'Segoe UI', Arial, sans-serif; /* Explicit font declaration */
}

/* LED (SMOOTHER / ANIMATED) */
.led{
  width: 48px;
  height: 48px;
  border-radius:50%;
  position:relative;
  cursor:pointer;

  transition:
    opacity 560ms cubic-bezier(.22,.9,.18,1),
    box-shadow 560ms cubic-bezier(.22,.9,.18,1),
    filter 560ms cubic-bezier(.22,.9,.18,1),
    transform 120ms ease;
}

/* bezel base */
.led{
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.06) 0%, rgba(255,255,255,0) 30%, rgba(0,0,0,.62) 60%, rgba(0,0,0,.96) 100%),
    radial-gradient(circle at 50% 50%, #1a1a1c 0%, #0b0b0d 62%, #040405 100%);

  border: 1px solid rgba(0,0,0,.94);
  box-shadow:
    0 14px 22px rgba(0,0,0,.76),
    inset 0 1px 1px rgba(255,255,255,.08),
    inset 0 -10px 14px rgba(0,0,0,.90);

  filter: saturate(.35) brightness(.74);
  opacity:.98;
  z-index:10000;
  pointer-events:auto;
}

/* bezel ring */
.led::before{
  content:'';
  position:absolute;
  inset:-7px;
  border-radius:50%;
  background:
    radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 56%, rgba(0,0,0,.80) 64%, rgba(0,0,0,1) 80%),
    conic-gradient(from 320deg,
      rgba(255,255,255,.14) 0deg 26deg,
      rgba(255,255,255,0) 26deg 210deg,
      rgba(0,0,0,.40) 210deg 310deg,
      rgba(255,255,255,0) 310deg 360deg
    );
  -webkit-mask: radial-gradient(circle, transparent 0 56%, #000 62% 100%);
  mask: radial-gradient(circle, transparent 0 56%, #000 62% 100%);
  box-shadow:
    0 12px 18px rgba(0,0,0,.62),
    inset 0 1px 1px rgba(255,255,255,.06),
    inset 0 -6px 10px rgba(0,0,0,.84);
  pointer-events:none;
  opacity:.95;
}

/* lens */
.led::after{
  content:'';
  position:absolute;
  inset: 18%;
  border-radius:50%;
  background:
    radial-gradient(circle at 30% 28%, rgba(255,255,255,.55) 0%, rgba(255,255,255,.10) 30%, rgba(255,255,255,0) 72%),
    radial-gradient(circle at 50% 60%, rgba(196,62,126,.18) 0%, rgba(196,62,126,.08) 45%, rgba(0,0,0,0) 78%),
    radial-gradient(circle at 50% 55%, #101012 0%, #070708 62%, #020203 100%);
  mix-blend-mode: screen;
  opacity: 0.22;
  transform: scale(.94);
  filter: blur(.15px);
  transition:
    opacity 560ms cubic-bezier(.22,.9,.18,1),
    transform 560ms cubic-bezier(.22,.9,.18,1),
    filter 560ms cubic-bezier(.22,.9,.18,1);
  pointer-events:none;
}

@keyframes ledBreath {
  0%,100% { box-shadow:
    0 0 16px rgba(196,62,126,.78),
    0 0 40px rgba(196,62,126,.30),
    0 0 72px rgba(196,62,126,.16),
    0 14px 22px rgba(0,0,0,.62),
    inset 0 1px 1px rgba(255,255,255,.18); }
  50% { box-shadow:
    0 0 20px rgba(196,62,126,.90),
    0 0 52px rgba(196,62,126,.36),
    0 0 92px rgba(196,62,126,.18),
    0 14px 22px rgba(0,0,0,.62),
    inset 0 1px 1px rgba(255,255,255,.18); }
}

/* ON state */
.led.isOn{
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,.26) 0%, rgba(255,255,255,0) 26%, rgba(0,0,0,.40) 58%, rgba(0,0,0,.92) 100%),
    radial-gradient(circle at 50% 54%, #2a0a18 0%, #12060b 60%, #040405 100%);
  filter: saturate(1.15) brightness(1.06);
  opacity:1;
  animation: ledBreath 3.2s ease-in-out infinite;
}

/* stronger lens emission when on */
.led.isOn::after{
  opacity:.92;
  transform: scale(1);
  filter: blur(.05px);
  background:
    radial-gradient(circle at 50% 52%, rgba(255,255,255,.95) 0%, rgba(255,190,230,.75) 18%, rgba(255,120,200,.55) 34%, rgba(196,62,126,.24) 60%, rgba(0,0,0,0) 78%),
    radial-gradient(circle at 30% 26%, rgba(255,255,255,.75) 0%, rgba(255,255,255,0) 62%);
  mix-blend-mode: screen;
}

.led.isPressed{ transform: translateY(1px); }

/* =======================
   Output slider (EXACT MATCH)
   ======================= */
.output-container{
  position:absolute;
  left: 50%;
  top: 83%;
  transform: translate(-50%, -50%);
  width: 70%;
  height: 88px;
  z-index:6;
}

.slider-track{
  position:absolute;
  left: 30%;
  top: 18px;
  width: 40%;
  height:18px;
  border-radius: 999px;

  background:
    /* outer rim */
    linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,0) 45%),
    linear-gradient(180deg, #101015, #040405);

  border:1px solid rgba(0,0,0,.96);
  box-shadow:
    inset 0 10px 20px rgba(0,0,0,.96),
    inset 0 -3px 6px rgba(0,0,0,.90),
    inset 0 1px 0 rgba(255,255,255,.12),
    inset 0 -1px 0 rgba(0,0,0,.92),
    0 10px 18px rgba(0,0,0,.58);

  touch-action: none;
}

/* inner cavity */
.slider-track::before{
  content:'';
  position:absolute;
  inset:2px;
  border-radius:999px;
  background:
    radial-gradient(90% 160% at 50% 95%, rgba(0,0,0,.92), rgba(0,0,0,0) 70%),
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,0) 60%),
    linear-gradient(180deg, #060607, #020203);
  box-shadow:
    inset 0 2px 6px rgba(0,0,0,.92),
    inset 0 1px 0 rgba(255,255,255,.04);
  pointer-events:none;
}

/* rim line */
.slider-track::after{
  content:'';
  position:absolute;
  inset:-2px;
  border-radius:999px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.26));
  opacity:.55;
  pointer-events:none;
}

/* handle (more cylindrical) */
.slider-thumb{
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%, -50%);
  width: 16px;
  height: 34px;
  border-radius: 8px;

  background:
    /* cylindrical highlight */
    linear-gradient(90deg,
      rgba(255,255,255,.28) 0%,
      rgba(255,255,255,.08) 22%,
      rgba(0,0,0,0) 52%,
      rgba(0,0,0,.22) 78%,
      rgba(0,0,0,.40) 100%),
    /* metal body */
    linear-gradient(180deg, #5a5a60, #303036, #141418);

  border: 1px solid rgba(0,0,0,.92);

  box-shadow:
    0 12px 18px rgba(0,0,0,.86),
    0 2px 6px rgba(0,0,0,.66),
    inset 0 1px 0 rgba(255,255,255,.18),
    inset 0 -3px 4px rgba(0,0,0,.78),
    0 0 0 1px rgba(255,255,255,.06);

  cursor:pointer;
  touch-action: none;
}

/* tiny grip */
.slider-thumb::before{
  content:'';
  position:absolute;
  top:50%; left:50%;
  transform: translate(-50%, -50%);
  width:10px; height:2px;
  background: rgba(255,255,255,.24);
  box-shadow:
    0 1px 0 rgba(0,0,0,.80),
    0 -1px 0 rgba(255,255,255,.10);
  border-radius:2px;
}

.output-label{
  position:absolute;
  right: 2%;
  top: 18px;
  transform: translateY(26px);
  white-space: nowrap;
  color: var(--text-engrave-weak);
  font-size: clamp(9px, 1.2vw, 12px);
  letter-spacing: 2px;
  text-shadow:
    0 1px 0 rgba(0,0,0,.92),
    0 -1px 0 rgba(255,255,255,.06);
  text-transform: uppercase; /* ALL CAPS LIKE REFERENCE */
  font-family: 'Barlow', 'Segoe UI', Arial, sans-serif; /* Explicit font declaration */
}

/* small hole */
.tiny-hole{
  position:absolute;
  right: 12%;
  top: 30px;
  width: 10px;
  height: 10px;
  border-radius:50%;
  background:
    radial-gradient(circle at 50% 45%, rgba(0,0,0,.35) 0%, rgba(0,0,0,.86) 60%, #020202 100%),
    radial-gradient(circle at 40% 30%, rgba(255,255,255,.10) 0%, rgba(255,255,255,0) 55%);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,.04),
    inset 0 -2px 3px rgba(0,0,0,.78);
  opacity:.85;
}

/* =======================
   Bottom neon (EXACT MATCH)
   ======================= */
.bottom-line{
  position:absolute;
  left: 7%;
  right: 7%;
  bottom: 4%;
  height: 4px;
  border-radius: 4px;

  background:
    /* core line */
    linear-gradient(90deg, transparent 0%, rgba(196,62,126,.22) 18%, rgba(196,62,126,.92) 50%, rgba(196,62,126,.22) 82%, transparent 100%);

  box-shadow:
    0 0 10px rgba(196,62,126,.46),
    0 0 28px rgba(196,62,126,.20),
    0 12px 22px rgba(0,0,0,.70);

  opacity:.92;
  transition: opacity 520ms cubic-bezier(.22,.9,.18,1), filter 520ms cubic-bezier(.22,.9,.18,1);
}

/* =======================
   Interaction safety
   ======================= */
.panel::before,
.panel::after,
.grain{ pointer-events:none; }

#satclip-group, #mix-group { right: auto !important; }
#pre-group, #trim-group, #satclip-group, #mix-group { transform: translate(-50%, -50%) !important; }
.drive-container, .led-container, .output-container { transform: translate(-50%, -50%) !important; }

.small-knob,
.drive-knob,
.slider-track,
.slider-thumb,
.led{
  touch-action: none;
}

/* =======================
   Power states (match your existing JS class toggles)
   ======================= */
.powerOff .drive-ring,
.powerOff .drive-ring::before,
.powerOff .drive-ring::after{
  opacity:0;
  box-shadow:none;
}
.powerOff .drive-container::before{ opacity:0; }

.powerOff .bottom-line{
  opacity:.16;
  filter:saturate(.60) brightness(.72);
}

.powerOff .panel{ filter: brightness(.78) saturate(.86); }
.powerOff .header{ filter: brightness(.78) saturate(.72); }

.powerOn .drive-ring,
.powerOn .drive-ring::before,
.powerOn .drive-ring::after,
.powerOn .drive-container::before{
  opacity:1;
}

/* ensure clickable */
.led, .mini2x, .mini2x-label{ pointer-events:auto; }


/* =======================
   Credit "i" button + Modal
   ======================= */

/* small info button (metal, engraved) */
.info-btn{
  position:absolute;
  right: 6.4%;
  bottom: 6.0%;
  width: 28px;
  height: 28px;
  border-radius: 999px;
  display:grid;
  place-items:center;

  font-family: 'Barlow','Segoe UI',Arial,sans-serif;
  font-weight: 800;
  font-size: 16px;
  line-height: 1;
  color: rgba(235,235,235,.44);
  letter-spacing: .2px;

  background:
    radial-gradient(circle at 30% 22%, rgba(255,255,255,.14) 0%, rgba(255,255,255,0) 38%),
    radial-gradient(circle at 50% 55%, rgba(0,0,0,0) 0 42%, rgba(0,0,0,.66) 72%, rgba(0,0,0,.92) 100%),
    radial-gradient(circle at 50% 50%, #1b1b1e 0%, #0d0d10 66%, #040405 100%);

  border: 1px solid rgba(0,0,0,.94);
  box-shadow:
    0 10px 16px rgba(0,0,0,.78),
    inset 0 1px 1px rgba(255,255,255,.08),
    inset 0 -4px 6px rgba(0,0,0,.90),
    inset 0 0 0 1px rgba(255,255,255,.03);

  cursor:pointer;
  z-index: 50;
  transition:
    transform 120ms ease,
    box-shadow 260ms cubic-bezier(.22,.9,.18,1),
    color 260ms cubic-bezier(.22,.9,.18,1),
    filter 260ms cubic-bezier(.22,.9,.18,1);
}
.info-btn:hover{
  color: rgba(255,255,255,.60);
  filter: brightness(1.05);
}
.info-btn:active{
  transform: translateY(1px);
}

/* backdrop */
.modal-backdrop{
  position:absolute;
  inset:0;
  display:grid;
  place-items:center;

  background: rgba(0,0,0,.72); /* (opsional) lebih gelap biar LED ga tembus */
  backdrop-filter: blur(7px) saturate(1.05);
  -webkit-backdrop-filter: blur(7px) saturate(1.05);

  opacity:0;
  pointer-events:none;

  z-index: 20000;   /* <<< NAIKKAN INI */
  transition: opacity 360ms cubic-bezier(.22,.9,.18,1);
}

.modal{
  z-index: 20001;   /* <<< biar modal di atas backdrop */
}

/* open state */
.modal-backdrop.isOpen{
  opacity:1;
  pointer-events:auto;
}

/* modal panel */
.modal{
  width: min(520px, 86%);
  border-radius: 14px;
  position:relative;

  background:
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.10)),
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,.018) 0px,
      rgba(255,255,255,.006) 1px,
      rgba(0,0,0,.018) 3px,
      rgba(0,0,0,0) 6px
    ),
    linear-gradient(180deg, #15161a 0%, #0a0b0f 50%, #07070a 100%);

  border: 1px solid rgba(255,255,255,.05);
  box-shadow:
    0 28px 70px rgba(0,0,0,.86),
    0 12px 26px rgba(0,0,0,.62),
    inset 0 1px 0 rgba(255,255,255,.06),
    inset 0 -18px 30px rgba(0,0,0,.62),
    inset 0 0 0 1px rgba(0,0,0,.70);

  transform: translateY(10px) scale(.985);
  opacity: 0;
  transition:
    transform 420ms cubic-bezier(.22,.9,.18,1),
    opacity 420ms cubic-bezier(.22,.9,.18,1);
}

/* pop-in when open */
.modal-backdrop.isOpen .modal{
  transform: translateY(0px) scale(1);
  opacity: 1;
}

/* top subtle magenta edge */
.modal::before{
  content:'';
  position:absolute;
  inset:-1px;
  border-radius: 14px;
  background:
    radial-gradient(110% 90% at 50% 0%, rgba(196,62,126,.22) 0%, rgba(196,62,126,0) 62%),
    radial-gradient(120% 120% at 50% 50%, rgba(255,255,255,.04) 0%, rgba(255,255,255,0) 58%);
  pointer-events:none;
  opacity:.85;
  mask: linear-gradient(#000,#000);
}

/* header row */
.modal-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 16px 10px 16px;
  border-bottom: 1px solid rgba(255,255,255,.06);
}

.modal-title{
  font-family:'Barlow','Segoe UI',Arial,sans-serif;
  font-weight: 900;
  letter-spacing: 3px;
  font-size: 14px;
  color: rgba(181,58,115,.92);
  text-transform: uppercase;
  text-shadow: 0 2px 10px rgba(0,0,0,.92);
}

.modal-close{
  width: 30px;
  height: 30px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,.88);
  background:
    radial-gradient(circle at 30% 22%, rgba(255,255,255,.12) 0%, rgba(255,255,255,0) 40%),
    radial-gradient(circle at 50% 55%, rgba(0,0,0,0) 0 40%, rgba(0,0,0,.66) 74%, rgba(0,0,0,.92) 100%),
    radial-gradient(circle at 50% 50%, #1b1b1e 0%, #0d0d10 66%, #040405 100%);
  color: rgba(255,255,255,.52);
  cursor:pointer;

  box-shadow:
    0 10px 16px rgba(0,0,0,.74),
    inset 0 1px 1px rgba(255,255,255,.08),
    inset 0 -4px 6px rgba(0,0,0,.90);

  transition: transform 120ms ease, filter 220ms ease, color 220ms ease;
}
.modal-close:hover{ color: rgba(255,255,255,.68); filter: brightness(1.05); }
.modal-close:active{ transform: translateY(1px); }

.modal-body{
  padding: 14px 16px 16px 16px;
}

.credit-lines{
  display:flex;
  flex-direction:column;
  gap: 10px;
}

.credit-row{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
  gap: 12px;
}

.credit-k{
  color: rgba(210,210,210,.22);
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  text-shadow: 0 1px 0 rgba(0,0,0,.92), 0 -1px 0 rgba(255,255,255,.05);
}

.credit-v{
  color: rgba(225,225,225,.34);
  font-size: 12px;
  letter-spacing: 1px;
  text-shadow: 0 1px 0 rgba(0,0,0,.92), 0 -1px 0 rgba(255,255,255,.05);
}

.credit-divider{
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(196,62,126,.28), transparent);
  opacity: .9;
  margin: 6px 0;
}

.credit-note{
  color: rgba(210,210,210,.18);
  font-size: 11px;
  letter-spacing: 1px;
  line-height: 1.35;
}
